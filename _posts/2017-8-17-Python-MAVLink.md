A Python interface for MAVLink is generated from an XML file named `common.xml`.
This XML file is found in the mavlink repo [https://github.com/mavlink/mavlink/blob/master/message_definitions/v1.0/common.xml](https://github.com/mavlink/mavlink/blob/master/message_definitions/v1.0/common.xml). Generate these bindings by first cloning the mavlink repo,
```
git clone --recursive git@github.com:mavlink/mavlink.git
```
Make sure to set the recursive flag to include the [pymavlink](https://github.com/ArduPilot/pymavlink) submodule.

Generate the file,
```
cd mavlink/pymavlink/tools/
python mavgen.py -o mavlinkv10.py ../../message_definitions/common.xml
```


A good write up of this can be found
[here](http://qgroundcontrol.org/mavlink/pymavlink).


Now for dronekit, when a connection calling `connect`  the dronekit.mavlink.MAVConnection class is called. Upon initialization the generated MAVLink class is initialized through the `pymavlink` package.
Its not quite clear how the generated Python interface gets integrated into
dronekit. In the connection class there is a call to `mavutil.mavlink.MAVLink.
The value of mavutil.mavlink is set dynamically by set_dialect. Depending on the
dialect this is pulled from `pymavlink/dialects`. The autogenerated code is not
included in the repo. This is all pretty clear in pymavlinks setup.py file.

master holds reference to the MAVLink connection




# Gazebo MOCAP

Gazebo uses the ENU [refererence](http://docs.flytbase.com/docs/FlytSim/native/launch.html) (east, north, up)
while PX4 is oriented using
[NED](https://dev.px4.io/en/ros/external_position_estimation.html) (north, east,
down).
